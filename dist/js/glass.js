var oEnlargeBag=document.getElementById('enlarge-bag'),oEnlargeBox=document.getElementById('enlarge-box'),oSmallBox=document.getElementById('small-box'),aSmallImg=Array.from(oSmallBox.children),oMiddleImg=document.getElementById('middle-img'),oLargeBox=document.getElementById('large-box'),oLargeImg=document.getElementById('large-img'),oMiddleBox=document.getElementById('middle-box'),oShadow=document.getElementById('shadow-s');aSmallImg.forEach((a)=>{a.addEventListener('mouseenter',(()=>{aSmallImg.forEach((a)=>{a.className=''}),a.className='focus',oMiddleImg.src=a.src,oLargeImg.src=a.src}).bind(a))});var iMaxL=oMiddleBox.offsetWidth-oShadow.offsetWidth,iMaxT=oMiddleBox.offsetHeight-oShadow.offsetHeight;oMiddleBox.addEventListener('mousemove',(a)=>{var b=Math.min,c=Math.max,d=a||window.event,e=d.pageX-oMiddleBox.offsetLeft-oShadow.offsetWidth/2,f=d.pageY-oMiddleBox.offsetTop-oShadow.offsetHeight/2;e=c(e,0),f=c(f,0),e=b(e,iMaxL),f=b(f,iMaxT);var g=e*(oLargeImg.offsetWidth-oLargeBox.offsetWidth)/iMaxL,h=f*(oLargeImg.offsetHeight-oLargeBox.offsetHeight)/iMaxT;oShadow.style.left=e+'px',oShadow.style.top=f+'px',oLargeImg.style.left=-g+'px',oLargeImg.style.top=-h+'px'}),oMiddleBox.addEventListener('mouseenter',()=>{oLargeBox.style.display='block'}),oMiddleBox.addEventListener('mouseleave',()=>{oShadow.style.left='-1000px',oLargeBox.style.display='none'});